@ filename: init_gpio.s
@
@ initializes the required GPIO pins for project1
@
@ Written by: James Ross

.text
.global _init_gpio
_init_gpio:
.equ CLK_EN, 		   0x00000002   @ Sets IDLEST functional, Module mode EN
.equ GPIO1_CLK_CTRL,   0x44E000AC   @ CM_PER_GPIO1_CLKCTRL  register address

@ GPIO definitions
.equ GPIO1_BASE,          0x4804C000  @ GPIO1               Base Address
.equ GPIO_OE,             0x134       @ GPIO_OE             register offset
.equ GPIO_CLEAR_DATAOUT,  0x190       @ GPIO_CLEARDATAOUT   register offset
.equ GPIO_SET_DATAOUT,    0x194       @ GPIO_SETDATAOUT     register offset
.equ GPIO_FALLING_DETECT, 0x14C       @ GPIO_FALLINGDETECT  register offset
.equ GPIO_IRQSTAT0,       0x2C        @ GPIO_IRQSTATUS_0    register offset
.equ GPIO_IRQSTAT_SET0,   0x34        @ GPIO_IRQSTAT_SET_0  register offset

@ Interupt definitions
.equ INTC_BASE,           0x48200000  @ INCPS               Base Address
.equ INTC_CONTROL,        0x48        @ INTC_CONTROL        register offset
.equ INTC_CONFIG,         0x10        @ INTC_SYSCONFIG      register offset
.equ INTC_MIR_CLEAR2,     0xC8        @ INTC_MIR_CLEAR2     register offset
.equ INTC_MIR_CLEAR3,     0xE8        @ INTC_MIR_CLEAR3     register offset

@ LED definitions
.equ SET_LED1_OUTPUT, 0xFFBFFFFF      @ Mask to set GPIO1_22 as output

	STMFD SP!, {R1-R10, LR}
	
	MOV R10, #CLK_EN		 @ R10 Holds mask for enableing clocks
	LDR R11, =GPIO1_CLK_CTRL
	STR R10, R11			 @ Store CLK_EN to enable GPIO1 clk
	
	@ set GPIO_
